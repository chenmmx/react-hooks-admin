{"version":3,"sources":["assets/videos/login.mp4","pages/login/index.tsx"],"names":["layout","labelCol","span","wrapperCol","tailLayout","Login","useState","loading","setLoading","useForm","form","history","useHistory","useEffect","userInfo","JSON","parse","window","localStorage","getItem","remember","setFieldsValue","setItem","className","id","autoPlay","loop","muted","src","require","default","type","name","initialValues","onFinish","values","stringify","setTimeout","date","Date","getTime","success","message","description","push","Item","rules","required","placeholder","Password","valuePropName","style","textAlign","marginBottom","lineHeight","htmlType","width"],"mappings":"2IAAA,OAAe,cAA0B,mC,8NCKnCA,G,OAAS,CACbC,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,MAEhBE,EAAa,CACjBD,WAAY,CAAED,KAAM,KAiGPG,UA9FG,WAAO,IAAD,EAOQC,oBAAkB,GAP1B,mBAOfC,EAPe,KAONC,EAPM,OAQP,IAAKC,UAAbC,EARe,oBAShBC,EAAUC,cAChBC,qBAAU,WACR,IAAMC,EAAgBC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,cAAgB,OAAS,GAClFL,EAASM,SACXV,EAAKW,eAAeP,GAEpBJ,EAAKW,eAAe,CAClBD,UAAU,IAGdH,OAAOC,aAAaI,QAAQ,WAAY,WACvC,CAACZ,IAmBJ,OACE,sBAAKa,UAAU,QAAf,UACE,uBAAOC,GAAG,cAAcC,UAAU,EAAMC,MAAM,EAAMC,OAAO,EAA3D,SACE,wBAAQC,IAAKC,EAAQ,KAAiCC,QAASC,KAAK,gBAEtE,sBAAKR,UAAU,eAAf,UACE,qBAAKA,UAAU,sBACf,8CACA,sBAAKA,UAAU,aAAf,UACE,4CACEb,KAAMA,GACFV,GAFN,IAGEgC,KAAK,QACLhC,OAAO,WACPiC,cAAe,CAAEb,UAAU,GAC3Bc,SAhCO,SAACC,GAChB3B,GAAW,GACXS,OAAOC,aAAaI,QAAQ,YAAaP,KAAKqB,UAAUD,IAExDE,YAAW,WACT7B,GAAW,GACX,IAAM8B,GAAe,IAAIC,MAAOC,UAAY,MAAkB,GAC9DvB,OAAOC,aAAaI,QAAQ,WAAY,QACxCL,OAAOC,aAAaI,QAAQ,YAAagB,GACzC,IAAaG,QAAQ,CACnBC,QAAS,eACTC,YAAa,mCAEfhC,EAAQiC,KAAK,WACZ,MAYG,UAQE,kBAAMC,KAAN,CAAWb,KAAK,WAAWc,MAAO,CAAC,CAAEC,UAAU,EAAML,QAAS,+CAA9D,SACE,mBAAOM,YAAY,2CAErB,kBAAMH,KAAN,CAAWb,KAAK,WAAWc,MAAO,CAAC,CAAEC,UAAU,EAAML,QAAS,yCAA9D,SACE,kBAAOO,SAAP,CAAgBD,YAAY,qCAE9B,8BACE,mBAAK9C,KAAM,GAAX,SACE,kBAAM2C,KAAN,2BACMzC,GADN,IAEE4B,KAAK,WACLkB,cAAc,UACdC,MAAO,CAAEC,UAAW,OAAQC,aAAc,QAJ5C,SAME,8DAGJ,mBAAKnD,KAAM,GAAIiD,MAAO,CAAEC,UAAW,QAASE,WAAY,QAAxD,SACE,iEAGJ,kBAAMT,KAAN,2BAAezC,GAAf,aACE,mBAAQ2B,KAAK,UAAUwB,SAAS,SAAShD,QAASA,EAAS4C,MAAO,CAAEK,MAAO,QAA3E,iCAKJ,sBACA,mBAAGjC,UAAU,aAAb,kDACA,sBACA,mBAAGA,UAAU,aAAb,4CACA","file":"static/js/10.77063db8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/login.a221732d.mp4\";","import React, { FC, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Form, Input, Button, Checkbox, notification, Row, Col, Divider } from 'antd';\nimport './styles.less';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { span: 16 },\n};\n\nconst Login: FC = () => {\n  interface FormFields {\n    username: string;\n    password: string;\n    remember: boolean;\n  }\n\n  const [loading, setLoading] = useState<boolean>(false);\n  const [form] = Form.useForm();\n  const history = useHistory();\n  useEffect(() => {\n    const userInfo: any = JSON.parse(window.localStorage.getItem('user_info') || '{}') || {};\n    if (userInfo.remember) {\n      form.setFieldsValue(userInfo);\n    } else {\n      form.setFieldsValue({\n        remember: false,\n      });\n    }\n    window.localStorage.setItem('is_login', 'false');\n  }, [form]);\n\n  const onFinish = (values: FormFields) => {\n    setLoading(true);\n    window.localStorage.setItem('user_info', JSON.stringify(values));\n\n    setTimeout(() => {\n      setLoading(false);\n      const date: string = new Date().getTime() + 6 * 3600 * 1000 + '';\n      window.localStorage.setItem('is_login', 'true');\n      window.localStorage.setItem('tokenTime', date);\n      notification.success({\n        message: '提示',\n        description: '登陆成功！',\n      });\n      history.push('/home');\n    }, 1000);\n  };\n\n  return (\n    <div className=\"login\">\n      <video id=\"login-video\" autoPlay={true} loop={true} muted={true}>\n        <source src={require('../../assets/videos/login.mp4').default} type=\"video/mp4\" />\n      </video>\n      <div className=\"form-wrapper\">\n        <div className=\"form-wrapper-logo\" />\n        <h2>登陆</h2>\n        <div className=\"login-form\">\n          <Form\n            form={form}\n            {...layout}\n            name=\"basic\"\n            layout=\"vertical\"\n            initialValues={{ remember: true }}\n            onFinish={onFinish}\n          >\n            <Form.Item name=\"username\" rules={[{ required: true, message: '请输入用户名！' }]}>\n              <Input placeholder=\"请输入用户名\" />\n            </Form.Item>\n            <Form.Item name=\"password\" rules={[{ required: true, message: '请输入密码！' }]}>\n              <Input.Password placeholder=\"请输入密码\" />\n            </Form.Item>\n            <Row>\n              <Col span={12}>\n                <Form.Item\n                  {...tailLayout}\n                  name=\"remember\"\n                  valuePropName=\"checked\"\n                  style={{ textAlign: 'left', marginBottom: '12px' }}\n                >\n                  <Checkbox>记住密码</Checkbox>\n                </Form.Item>\n              </Col>\n              <Col span={12} style={{ textAlign: 'right', lineHeight: '32px' }}>\n                <span>忘记密码</span>\n              </Col>\n            </Row>\n            <Form.Item {...tailLayout}>\n              <Button type=\"primary\" htmlType=\"submit\" loading={loading} style={{ width: '100%' }}>\n                登陆\n              </Button>\n            </Form.Item>\n          </Form>\n          <Divider />\n          <p className=\"text-muted\">其他登陆方式</p>\n          <Divider />\n          <p className=\"text-muted\">没有账号？</p>\n          <Button>立即注册</Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"sourceRoot":""}